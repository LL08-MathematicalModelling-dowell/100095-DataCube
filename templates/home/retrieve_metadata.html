{% extends "layouts/base.html" %}
{% block title %} Retrieve Metadata {% endblock %}

{% block content %}

<div class="container-fluid py-4">
    <div class="d-flex justify-content-between align-items-center">
        <h1>Metadata Records</h1>
        <a href="/metadata/" class="btn btn-primary">Add</a>

    </div>
    {% if records %}
    <table class="table table-striped">
        <thead>
            <tr>
                <th scope="col">Database Name</th>
                <th scope="col">Number of Documents</th>
                <th scope="col">Number of Fields</th>
                <th scope="col">Added By</th>
                <th scope="col">Collections</th>
            </tr>
        </thead>
        <tbody>
            {% for record in records %}
            <tr>

                <td >{{ record.database_name }}</td>
                <td>{{ record.number_of_documents }}</td>
                <td>{{ record.number_of_fields }}</td>
                <td>{{ record.added_by }}</td>
            <td> <a href="/collections/{{ record.database_name }}" class="btn btn-primary"> View Collections</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
        <p>No records to display.</p>
    {% endif %}
</div>

{% endblock content %}
